<templateSet group="VV_REACTIVE_METHODS">
  <template name="rx method Mono+try LOGERROR v1" value="public Mono&lt;String&gt; $method$( final String string )&#10;{&#10;return Mono.justOrEmpty( string )&#10;           .filter( StringUtils::isNotBlank )&#10;           //.single()                                                                                     &#10;           //.onErrorResume( logAtWarningFunction( &quot;$class$.$method$(empty argument)&quot; , empty() ) )       &#10;           .log(&quot;debug&quot; , Level.FINE , SignalType.ON_NEXT )&#10;           .map( this::$method$_ )&#10;           .onErrorContinue( logAtErrorBiConsumer( &quot;$class$.$method$&quot; ) ); //работает только для map, не работает для .flatMap(mono)&#10;&#9; //.onErrorResume( logAtErrorFunction( &quot;ERRORR:&quot;,  never() ) ); &#10;}&#10;&#10;&#10;public String $method$_( final String string )&#10;{&#10;//throw new RuntimeException( &quot; cause &quot; );&#10;return &quot;otvet+&quot; + string;&#10;}&#10;" description="Mono.justOrEmpty( string )" toReformat="false" toShortenFQNames="true">
    <variable name="class" expression="className()" defaultValue="" alwaysStopAt="false" />
    <variable name="method" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="rx method Mono" value="public Mono&lt;String&gt; $method$( final String string )&#10;{&#10;return Mono.justOrEmpty( string )&#10;           .filter( StringUtils::isNotBlank )&#10;           .single()&#10;           .onErrorResume( logAtWarningFunction( &quot;$class$.$method$(empty argument)&quot; , never() ) )&#10;           .map( logAtDebugUnaryOperator( &quot;$class$.$method$&quot; ) )&#10;           .flatMap( this::method2_ );&#10;}&#10;&#10;&#10;public Mono&lt;String&gt; $method$_( final String string )&#10;{&#10;//throw new RuntimeException( &quot; cause &quot; );&#10;return Mono.justOrEmpty(&quot;otvet+&quot; + string);&#10;}&#10;" description="REACTOR supplier-&gt;try" toReformat="false" toShortenFQNames="true">
    <variable name="class" expression="className()" defaultValue="" alwaysStopAt="false" />
    <variable name="method" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="rx method Mono+try LOGERROR v2" value="public Mono&lt;String&gt; $method$( final String string )&#10;{&#10;return Flux.from( justOrEmpty( string ) )       //тк я хочу богатый набор операторов&#10;           .takeWhile( StringUtils::isNotBlank )&#10;           .log( &quot;debug&quot;, Level.FINE, SignalType.ON_NEXT )&#10;           .map( this::$method$_ ).onErrorContinue( logAtErrorBiConsumer( &quot;$class$.$method$&quot; ) );                                 // если плохо, если $method$_  вернет null&#10;           //.flatMap( t -&gt; fromSupplier( ()-&gt;someMethod2( t ) ).onErrorResume( logAtErrorFunction( &quot;arg:&quot; + t , empty() ) ) );   // если нормально для  $method$_  вернуть null&#10;}&#10;&#10;&#10;public String $method$_( final String string )&#10;{&#10;//throw new RuntimeException( &quot; cause &quot; );&#10;return &quot;otvet+&quot; + string;&#10;}&#10;" description="Flux.from( justOrEmpty( string ) )" toReformat="false" toShortenFQNames="true">
    <variable name="class" expression="className()" defaultValue="" alwaysStopAt="false" />
    <variable name="method" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="rx method Mono+try UPERROR" value="public Mono&lt;String&gt; $method$( final String string )&#10;{&#10;return Flux.from( justOrEmpty( string ) )&#10;           .takeWhile( StringUtils::isNotBlank )&#10;           .log( &quot;debug&quot;, Level.FINE, SignalType.ON_NEXT )&#10;           .map(  this::$method$_  )                           // если плохо, если $method$_  вернет null&#10;           //.flatMap( nullableFunction( this::$method$_ ) )  // если нормально для  $method$_  вернуть null&#10;           .single();&#10;}&#10;&#10;&#10;public String $method$_( final String string )&#10;{&#10;//throw new RuntimeException( &quot; cause &quot; );&#10;return &quot;otvet+&quot; + string;&#10;}&#10;" description="REACTOR supplier-&gt;try" toReformat="false" toShortenFQNames="true">
    <variable name="method" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
</templateSet>